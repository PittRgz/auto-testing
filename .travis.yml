# Language and its version
language: python
python:
  - "3.9"

# Needed services, in this case Docker
services:
  - docker

# Stages of the Jobs in the Travis CI run
stages:
  # - build
  - lint
  - test

# Jobs that Travis will run on each Pull Request
jobs:
  include:
    # - stage: build
    #   name: install docker-compose
    #   script:
    #     - pip install docker-compose

    - stage: lint
      name: run pylint
      script:
        - docker-compose run --no-deps app pylint tests

    - stage: lint
      name: run flake8
      script:
        - docker-compose run --no-deps app flake8 tests

    - stage: test
      name: run pytest
      script:
        - docker-compose run app pytest tests